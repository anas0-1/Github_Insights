<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub User Info</title>
</head>
<body>
    <h1>GitHub User Information</h1>
    <form id="githubForm">
        <label for="username">Enter GitHub Username:</label>
        <input type="text" id="username" name="username">
        <button type="submit">Get Info</button>
    </form>
    <div id="userInfo">
        <h2>User Information</h2>
        <img id="avatar" src="" alt="Avatar">
        <p><strong>Name:</strong> <span id="name"></span></p>
        <p><strong>Username:</strong> <span id="usernameInfo"></span></p>
        <p><strong>Location:</strong> <span id="location"></span></p>
        <img id="flag" src="" alt="Country Flag">
        <p><strong>Followers:</strong> <span id="followers"></span></p>
        <p><strong>Following:</strong> <span id="following"></span></p>
        <p><strong>Public Repositories:</strong> <span id="publicRepos"></span></p>
    </div>

    <script>
       document.addEventListener("DOMContentLoaded", function() {
    const username = 'anas0-1'; // The username you want to fetch information for
    const token = 'github token'; // Replace 'YOUR_GITHUB_TOKEN' with your actual token

    // Fetch user information from GitHub API with token
    fetch(`https://api.github.com/users/${username}`, {
        headers: {
            Authorization: `token ${token}`
        }
    })
        .then(response => response.json())
        .then(data => {
            // Update HTML with user information
            document.getElementById("avatar").src = data.avatar_url;
            document.getElementById("name").textContent = data.name || "Not provided";
            document.getElementById("usernameInfo").textContent = data.login || "Not provided";
            document.getElementById("location").textContent = data.location || "Not provided";
            
            // Fetch country flag based on the provided location
            if (data.location) {
                fetch(`https://restcountries.com/v3/name/${encodeURIComponent(data.location)}`)
                    .then(response => response.json())
                    .then(countryData => {
                        const countryCode = countryData[0]?.cca2;
                        if (countryCode) {
                            document.getElementById("flag").src = `https://www.countryflags.io/${countryCode}/flat/64.png`;
                        }
                    })
                    .catch(error => console.error("Error fetching country flag:", error));
            }
            
            document.getElementById("followers").textContent = data.followers || "Not provided";
            document.getElementById("following").textContent = data.following || "Not provided";
            document.getElementById("publicRepos").textContent = data.public_repos || "Not provided";
        })
        .catch(error => {
            // Handle errors
            const userInfo = document.getElementById("userInfo");
            userInfo.innerHTML = `<p>Error: ${error.message}</p>`;
        });
});

    </script>
</body>
</html>
